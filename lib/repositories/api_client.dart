/// Author: Duc Trung Nguyen
/// Created: 29/03/2021
/// Project: ohmalware

import 'package:dio/dio.dart';
import 'package:ohmalware/commons/constant.dart';
import 'package:ohmalware/models/app_scan_model.dart';
import 'package:ohmalware/models/result_app_scan_model.dart';
import 'package:ohmalware/repositories/api_interface.dart';
import 'package:http/http.dart' as http;

class ApiClient extends ApiInterface {
  @override
  Future<List<ResultAppScanModel>> uploadScan(
      List<AppScanModel> listAppScanModel) async {
    final listResult = <ResultAppScanModel>[];
    try {
      final result = await Dio().post('${BASE_URL}scan_featured', data: listAppScanModel);

      if (result.data['status'] == 200) {
        result.data['data'].foreach((element) {
          listResult.add(ResultAppScanModel.fromJson(element));
        });

        return listResult;
      } else {
        return <ResultAppScanModel>[];
      }
    } catch (ex) {
      return <ResultAppScanModel>[];
    }
    // http://222.252.17.225/scan_featured/
  }

  Future<void> IndexHome() async{

    try {

      // final response = await http.get(Uri.http('222.252.17.225',''));
      final result = await Dio().get('http://222.252.17.225/');
      var  a = 1;


    } catch (ex) {
      return <ResultAppScanModel>[];
    }

  }
}

ApiClient apiClient = ApiClient();
